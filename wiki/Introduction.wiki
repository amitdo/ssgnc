#summary Search System for Google N-gram Corpus
#labels Phase-Requirements,Phase-Design,Featured

= Introduction =

The *ssgnc* is a Search System for Google N-gram Corpus.
This system has been designed for Japanese and English Google N-gram Corpora,
however, the *ssgnc* is applicable to other n-gram corpora.

== Overview ==

The *ssgnc* builds inverted databases (index) for large-scale n-grams
and provides interfaces for searching n-grams.
Users can find n-grams that contain specified unigrams (boolean AND search).
Also, the *ssgnc* can handle a query with a wildcard *`*`* that
matches an arbitrary unigram.
The search methods and examples are as follows:

 * Search methods
  * Boolean AND search
   * N-grams that contain both "apple" and "orange".
  * Ordered boolean AND search
   * N-grams that contain both "apple" and "orange" in order.
  * Phrase search
   * N-grams that contain "apple orange".
  * Wildcard search
   * N-grams that matches "`*` similar to `*` `*`".

Other commands such as *grep* will realize more detailed searches.

# The indices of this system supports only searches for
n-grams containing an arbitrary unigram.

----

== System Requirement ==

The *ssgnc* has been developed for Linux systems and
I have tested it on a 64-bit Ubuntu server.
This system does not work well on a 32-bit system,
because it uses mmap() for large files whose sizes are greater than 2GB files.

I'm not sure whether the *ssgnc* works on Max OSX and other operating systems.

----

== Required Tool and Libraries ==

The *ssgnc* requires the following tools and libraries.

 * g++
 * make
 * libboost-dev
 * dawgdic
  * http://code.google.com/p/dawgdic/

----

= How to Use =

== Indexing ==

The *ssgnc* builds indices from compressed Google N-gram Corpus.

 ssgnc-build-index.sh InputDir OutputDir

 * InputDir: specifies a directory *data* copied from DVDs.
 * OutputDir: specifies a directory to put result indices.

 e.g.) ssgnc-build-index.sh ./data ./index

The size of indices for English and Japanese
Google N-gram Corpora are as follows:

 * Index size
  * English Google N-gram Corpus: 116GB
  * Japanese Google N-gram Corpus: 145GB

Please confirm that there is more than 200GB disk space,
because the indexing process requires extra disk space for temporary files.

----

== Searching ==

The *ssgnc* provides a command for searching n-grams by using indices.

 ssgnc-search -d DataDir

 * DataDir: specifies a directory of indices.

 e.g.) ssgnc-search -d /home/ssgnc/ja

Please see *ssgnc-search -h* for other options.

----

== CGI ==

The *ssgnc* has a perl script for generating a simple perl script for CGI.

 ssgnc-gen-cgi.pl DataDir > CgiPerl

 * DataDir: specifies a directory of indices.
 * CgiPerl: specifies an output file.

 e.g.: ssgnc-gen-cgi.pl /home/ssgnc/ja > ssgnc-ja.pl

Please copy a generated perl script into a CGI directory such as
/usr/lib/cgi-bin.

There are sample HTML documents in *./html* for using the above CGI program.
